<div class="page-header">
  <div>
    <h2 class="m0">Doctors</h2>
    <p class="m0">Manage registered doctors and their specialties</p>
  </div>
  <button
    type="button"
    class="page-header__action"
    data-open-modal="add-doctor"
    data-modal-mode="create"
  >
    Add doctor
  </button>
</div>

<div class="table-wrap mt1">
  <table>
    <thead>
      <tr>
        <th>ID</th>
        <th>Full name</th>
        <th>Specialty</th>
        <th style="width:110px;">Actions</th>
      </tr>
    </thead>
    <tbody>
      {{#each doctors}}
        <tr>
          <td>{{id}}</td>
          <td>
            <a
              href="/doctors/{{id}}"
              data-open-modal="view-doctor"
              data-doctor-id="{{id}}"
              data-doctor-name="{{fullName}}"
              data-doctor-specialty="{{specialty}}"
            >
              {{fullName}}
            </a>
          </td>
          <td class="table-condition">
            {{#if specialty}}
              {{specialty}}
            {{else}}
              <span class="text-muted">Not specified</span>
            {{/if}}
          </td>
          <td class="table-actions">
            <button
              type="button"
              class="icon-button secondary inline"
              title="Edit doctor"
              aria-label="Edit doctor"
              data-open-modal="add-doctor"
              data-modal-mode="edit"
              data-doctor-id="{{id}}"
              data-doctor-name="{{fullName}}"
              data-doctor-specialty="{{specialty}}"
            >
              ‚úèÔ∏è
            </button>
            <form
              action="/doctors/{{id}}/delete"
              method="POST"
              class="inline-form"
              data-confirm="delete"
              data-confirm-name="{{fullName}}"
            >
              <button
                type="submit"
                class="icon-button secondary inline"
                title="Delete doctor"
                aria-label="Delete doctor"
              >üóëÔ∏è</button>
            </form>
          </td>
        </tr>
      {{/each}}
    </tbody>
  </table>
</div>

{{#if pagination}}
  <nav class="pagination">
    {{#if pagination.prev}}<a href="{{pagination.prev}}">Prev</a>{{/if}}
    {{#each pagination.pages}}
      {{#if this.active}}<span class="active">{{this.n}}</span>{{else}}<a
          href="{{this.url}}"
        >{{this.n}}</a>{{/if}}
    {{/each}}
    {{#if pagination.next}}<a href="{{pagination.next}}">Next</a>{{/if}}
  </nav>
{{/if}}

{{> doctors/addDoctor}}

{{> doctors/viewDoctor}}

<script src="/js/doctors.js" defer></script>
